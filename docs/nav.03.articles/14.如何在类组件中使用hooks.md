---
author: 三棵树
title: 如何在类组件中使用 hooks
---

在 vue3 中提供了 vca，即`vue composition api`，中文名是组合式 api。一般我们会定义成 useXXX 的形式的函数。类似于 react 中的 hooks。

在 react 中，hooks 函数只能在函数组件中使用或者在别的 hooks 中使用。而在 vue 中，则只能在 setup 函数中使用。那么如果是 Option 组件，则直接在 setup 函数中使用即可。

如果是在类组件中，上面有提到必须借助`import { setup } from 'vue-class-component'`提供的 setup 函数来定义类的属性，那么我们定义的 hooks 也是可以在这个 setup 函数中使用的。

但是这种写法比较丑陋，而且臃肿。使用依赖注入功能完全可以避免这个问题。

还是回到最初的问题，useXXX 是状态和逻辑的封装。如果直接使用，具有强耦合性；可以通过依赖注入服务来降低这种耦合性。
