## 类组件是如何收集数据的

当前类组件的依赖注入是在 setup 执行完之后才注入的

这个目前还算不上是缺陷，因为类组件的 setup 函数是 vue-class-component 固定实现的，并不含有业务逻辑。

意味着该 setup 函数中并不会访问类的实例属性。本质是 vue-class-component 提供的 setup 函数本身不能访问`this.$data`。

它只能访问`this.$props $emit $attrs $slots`。

还有，参考缺陷 1，我们知道 setup 不是类组件的合法方法。意味着我们不能像 option 组件一样写 setup 函数。

注意虽然 option 组件中的 setup 函数虽然也是只能访问 props 和 ctx，但是一个组件只有一个 setup 函数，在该 setup 函数内部定义的数据，是可以衍生出新数据的。

但是现在类组件中每个实例属性都对应一个 setup 函数，这些 setup 函数是互相独立的，没有办法做到数据之间的衍生。
